{
  "openapi": "3.0.3",
  "info": {
    "title": "ZenOps API",
    "version": "0.1.0"
  },
  "paths": {
    "/v1/health": {
      "get": {
        "summary": "Health check",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/auth/login": {
      "post": {
        "summary": "Issue local JWT",
        "responses": {
          "200": {
            "description": "Token issued"
          }
        }
      }
    },
    "/v1/tenants": {
      "get": {
        "summary": "List tenants",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "summary": "Create tenant",
        "responses": {
          "201": {
            "description": "Created"
          }
        }
      }
    },
    "/v1/users": {
      "get": {
        "summary": "List users",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "summary": "Create user",
        "responses": {
          "201": {
            "description": "Created"
          }
        }
      }
    },
    "/v1/work-orders": {
      "get": {
        "summary": "List work orders",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "summary": "Create work order",
        "responses": {
          "201": {
            "description": "Created"
          }
        }
      }
    },
    "/v1/assignments": {
      "get": {
        "summary": "List assignments with filters",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "summary": "Create assignment",
        "responses": {
          "201": {
            "description": "Created"
          }
        }
      }
    },
    "/v1/assignments/{id}": {
      "get": {
        "summary": "Get assignment detail graph",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "patch": {
        "summary": "Update assignment fields/status",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "summary": "Soft-delete assignment",
        "responses": {
          "200": {
            "description": "Deleted"
          }
        }
      }
    },
    "/v1/assignments/{id}/assignees": {
      "post": {
        "summary": "Add assignment assignee",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/assignments/{id}/assignees/{user_id}": {
      "delete": {
        "summary": "Remove assignment assignee",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/assignments/{id}/tasks": {
      "get": {
        "summary": "List assignment tasks",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "summary": "Create assignment task",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/assignments/{id}/tasks/{task_id}": {
      "patch": {
        "summary": "Update assignment task",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "summary": "Delete assignment task",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/assignments/{id}/messages": {
      "post": {
        "summary": "Post assignment message",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/assignments/{id}/activities": {
      "get": {
        "summary": "List assignment activities",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/assignments/{id}/attach-document": {
      "post": {
        "summary": "Attach existing document to assignment",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/report-requests": {
      "get": {
        "summary": "List report requests",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "summary": "Create report request",
        "responses": {
          "201": {
            "description": "Created"
          }
        }
      }
    },
    "/v1/report-requests/{id}/queue-draft": {
      "post": {
        "summary": "Reserve credit and enqueue draft",
        "responses": {
          "200": {
            "description": "Queued"
          }
        }
      }
    },
    "/v1/report-requests/{id}/finalize": {
      "post": {
        "summary": "Finalize report request",
        "responses": {
          "200": {
            "description": "Finalized"
          }
        }
      }
    },
    "/v1/report-jobs": {
      "get": {
        "summary": "List report jobs",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/billing/me": {
      "get": {
        "summary": "Get tenant billing summary for current period",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/billing/invoices": {
      "get": {
        "summary": "List tenant invoices",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/billing/invoices/{id}": {
      "get": {
        "summary": "Get invoice detail with lines and payments",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/billing/invoices/{id}/mark-paid": {
      "post": {
        "summary": "Studio-only: mark invoice paid with manual payment record",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/files/presign-upload": {
      "post": {
        "summary": "Create document record and presign upload",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/files/confirm-upload": {
      "post": {
        "summary": "Confirm upload and attach links",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/files/{id}/presign-download": {
      "get": {
        "summary": "Presign document download",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/documents": {
      "get": {
        "summary": "List documents with filters",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/documents/{id}/metadata": {
      "patch": {
        "summary": "Patch document metadata",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/documents/{id}/tags": {
      "post": {
        "summary": "Upsert document tags",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/report-requests/{id}/data-bundle": {
      "get": {
        "summary": "Get report data bundle",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "patch": {
        "summary": "Patch report data bundle",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/studio/report-jobs": {
      "get": {
        "summary": "Studio-only report jobs",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    }
  }
}